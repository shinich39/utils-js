function E(e){return typeof e=="boolean"}function C(e){return typeof e=="number"&&!Number.isNaN(e)&&Number.isFinite(e)}function K(e){return $(e)?!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e)):C(e)}function $(e){return typeof e=="string"}function X(e){return $(e)&&e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""}function a(e){return typeof e=="object"&&e!==null}function G(e){return a(e)&&Object.keys(e).length===0}function y(e){return typeof e=="object"&&e===null}function s(e){return Array&&Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}function J(e){if(!s(e))return!1;for(let t of e)if(!E(t))return!1;return!0}function q(e){if(!s(e))return!1;for(let t of e)if(!C(t))return!1;return!0}function ee(e){if(!s(e))return!1;for(let t of e)if(!$(t))return!1;return!0}function te(e){if(!s(e))return!1;for(let t of e)if(!a(t))return!1;return!0}function ne(e){return s(e)&&e.length===0}function O(e){return typeof e=="function"}function re(e){return e===void 0||y(e)}function M(e){return e===void 0}function ie(e,t){return y(e)&&y(t)||typeof e==typeof t&&e.constructor===t.constructor}function S(e){let t;s(e)?t=[]:t={};for(let[n,r]of Object.entries(e))a(r)?t[n]=S(r):t[n]=r;return t}function le(e,t){let n={};for(let r of e){let u=String(r[t]);n[u]?n[u].push(r):n[u]=[r]}return n}function fe(e,t){let n={and:["$and"],notAnd:["$notAnd","$nand"],or:["$or"],notOr:["$notOr","$nor"],not:["$not"],include:["$include","$in"],exclude:["$exclude","$nin"],greaterThan:["$greaterThan","$gt"],greaterThanOrEqual:["$greaterThanOrEqual","$gte"],lessThan:["$lessThan","$lt"],lessThanOrEqual:["$lessThanOrEqual","$lte"],equal:["$equal","$eq"],notEqual:["$notEqual","$neq","$ne"],exists:["$exists"],function:["$function","$func","$fn"],regexp:["$regexp","$regex","$re","$reg"]};function r(o,l){for(let[f,c]of Object.entries(l))if(!u(o,c,f.split(".")))return!1;return!0}function u(o,l,f){let c=f.shift();return f.length>0?a(o)?u(o[c],l,f):!1:i(o,l,c)}function i(o,l,f){if(n.and.indexOf(f)>-1){for(let c of l)if(!r(o,c))return!1;return!0}else{if(n.notAnd.indexOf(f)>-1)return!i(o,l,"$and");if(n.or.indexOf(f)>-1){for(let c of l)if(r(o,c))return!0;return!1}else{if(n.notOr.indexOf(f)>-1)return!i(o,l,"$or");if(n.not.indexOf(f)>-1)return!r(o,l);if(n.include.indexOf(f)>-1)if(s(o)){for(let c of o)if(!i(c,l,"$include"))return!1;return!0}else{for(let c of l)if(i(o,c,"$equal"))return!0;return!1}else{if(n.exclude.indexOf(f)>-1)return!i(o,l,"$include");if(n.greaterThan.indexOf(f)>-1)return o>l;if(n.greaterThanOrEqual.indexOf(f)>-1)return o>=l;if(n.lessThan.indexOf(f)>-1)return o<l;if(n.lessThanOrEqual.indexOf(f)>-1)return o<=l;if(n.equal.indexOf(f)>-1)if(s(o)&&s(l)){if(o.length!==l.length)return!1;for(let c=0;c<l.length;c++)if(!i(o[c],l[c],"$equal"))return!1;return!0}else return o===l;else return n.notEqual.indexOf(f)>-1?!i(o,l,"$equal"):n.exists.indexOf(f)>-1?o!=null==!!l:n.function.indexOf(f)>-1?l(o):n.regexp.indexOf(f)>-1?l.test(o):a(o)?a(l)?r(o[f],l):i(o[f],l,"$equal"):!1}}}}return r(e,t)}function v(e,t){return Math.random()*(t-e)+e}function se(e,t,n){return Math.min(n,Math.max(e,t))}function ae(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function ge(e,t){function n(i,o){let l=[];for(let f=0;f<i.length+1;f++){l.push([]);for(let c=0;c<o.length+1;c++)l[f][c]=0}return l}function r(i,o,l){for(let f=1;f<=o.length;f++)for(let c=1;c<=l.length;c++)o[f-1]===l[c-1]?i[f][c]=i[f-1][c-1]+1:i[f][c]=Math.max(i[f-1][c],i[f][c-1]);return i}function u(i,o,l){let f=0,c=1,A=-1,x=[],R=0,p=o.length,g=l.length;for(;p>0||g>0;){let h=x[x.length-1],m=o[p-1],w=l[g-1];p>0&&g>0&&m===w?(h&&h.type===f?h.value=m+h.value:x.push({type:f,value:m}),R++,p--,g--):g>0&&(p===0||i[p][g-1]>=i[p-1][g])?(h&&h.type===c?h.value=w+h.value:x.push({type:c,value:w}),g--):p>0&&(g===0||i[p][g-1]<i[p-1][g])&&(h&&h.type===A?h.value=m+h.value:x.push({type:A,value:m}),p--)}return{acc:R*2/(o.length+l.length),result:x.reverse()}}return u(r(n(e,t),e,t),e,t)}function T(e,t){let n=[M,y,E,C,$,a,s,O],r=n.findIndex(function(i){return i(e)}),u=n.findIndex(function(i){return i(t)});return r!==u?r-u:r===0||r===1?0:r===2?e!==t?0:e?1:-1:r===3?e-t:r===4?e.localeCompare(t,void 0,{numeric:!0}):r===5?Object.keys(e).length-Object.keys(t).length:r===6?e.length-t.length:0}function Ae(e,t){let n=new Array(e);if(O(t))for(let r=0;r<e;r++)n[r]=t(r);else if(a(t))for(let r=0;r<e;r++)n[r]=S(t);else if(s(t))for(let r=0;r<e;r++)n[r]=S(t);else if(typeof t<"u")for(let r=0;r<e;r++)n[r]=t;return n}function Ce(e){return e.reduce(function(t,n){return n<t?n:t},e[0]||0)}function Oe(e){return e.reduce(function(t,n){return n>t?n:t},e[0]||0)}function Se(e){return e.reduce(function(t,n){return t+n},0)/e.length}function Te(e){let t={},n=e[0],r=1;for(let u=0;u<e.length;u++){let i=e[u];t[i]?t[i]+=1:t[i]=1,t[i]>r&&(n=i,r=t[i])}return n}function we(e,t){return t=!!t,e.sort(function(n,r){return t?!T(n,r):T(n,r)})}function Ee(e,t){return typeof t=="string"&&(t=t.split(" ").filter(Boolean)),e.sort(function(n,r){for(let u of t){let i=/^-/.test(u),o=u.replace(/^-/,""),l=T(n[o],r[o]);if(l!==0)return i?-l:l}return 0})}function be(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function Ie(e){return e[Math.floor(v(0,e.length))]}function Ne(e){function t(i){if(i.length<1)return;let o=[];for(let l=0;l<i.length;l++)o.push(0);return o}function n(i,o){for(let l=i.length-1;l>=0;l--){if(o[l]<i[l].length-1)return o[l]+=1,o;o[l]=0}}function r(i,o){let l=[];for(let f=0;f<i.length;f++)l.push(i[f][o[f]]);return l}function u(){let i=[],o=t(e);for(;o;)i.push(r(e,o)),o=n(e,o);return i}return u()}function b(e,t){if(e.length===1)return e[0];let n=[];for(let r=0;r<e.length-1;r++){let u=(1-t)*e[r][0]+t*e[r+1][0],i=(1-t)*e[r][1]+t*e[r+1][1];n.push([u,i])}return b(n,t)}function Me(e,t,n,r){n||(n=1e3),r||(r=100);let u=0,i=b(e,u/n,u);t(i,u,o());function o(){return u+=r,i=b(e,u/n),setTimeout(function(){u<n?t(i,u,o()):t(i,u,null)},r)}}var F=0;function Fe(e,t){return e?e=new Date(e).getTime()/1e3:e=new Date().getTime()/1e3,t?F=t:t=F++,Math.floor(e).toString(16)+"xxxxxxxxxx".replace(/x/g,function(n){return Math.floor(Math.random()*16).toString(16)})+Math.floor(t).toString(16).padStart(6,"0")}function Ue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0,n;return e=="x"?n=t:n=t&3|8,n.toString(16)})}function Be(e){return new Promise(function(t){return setTimeout(t,e)})}function ke(e){return e.reduce(function(t,n){return t.then(function(r){return n().then(function(u){return r.concat([u])})})},Promise.resolve([]))}function Le(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.height*n,height:t.height}:{width:t.width,height:t.width/n}}function Pe(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}}function _e(e){return e.charAt(Math.floor(Math.random()*e.length))}function He(e){return e.split(/([0-9]+)/)}function Qe(e){return e.split(/([0-9]+\.[0-9]+)+/)}function We(e,t){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(e=String(e),/[^\0-\xFF]/.test(e))throw new Error("The string to be encoded contains characters outside of the Latin1 range.");let r=e.length%3,u="",i=-1,o,l,f,c,A=e.length-r;for(;++i<A;)o=e.charCodeAt(i)<<16,l=e.charCodeAt(++i)<<8,f=e.charCodeAt(++i),c=o+l+f,u+=n.charAt(c>>18&63)+n.charAt(c>>12&63)+n.charAt(c>>6&63)+n.charAt(c&63);return r==2?(o=e.charCodeAt(i)<<8,l=e.charCodeAt(++i),c=o+l,u+=n.charAt(c>>10)+n.charAt(c>>4&63)+n.charAt(c<<2&63)+"="):r==1&&(c=e.charCodeAt(i),u+=n.charAt(c>>2)+n.charAt(c<<4&63)+"=="),t?"data:"+t+";base64,"+u:u}function Ze(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e=String(e).replace(/^data:([A-Za-z-+\/]+);[A-Za-z0-9]+,/,"").replace(/[\t\n\f\r ]/g,"");let n=e.length;if(n%4==0&&(e=e.replace(/==?$/,""),n=e.length),n%4==1||/[^+a-zA-Z0-9/]/.test(e))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");let r=0,u,i,o="",l=-1;for(;++l<n;)i=t.indexOf(e.charAt(l)),r%4?u=u*64+i:u=i,r++%4&&(o+=String.fromCharCode(255&u>>(-2*r&6)));return o}function Ye(e,t){e=(e+"/").replace(/[\\\/]+/g,"/").replace(/^\.?\//,""),t=(t+"/").replace(/[\\\/]+/g,"/").replace(/^\.?\//,"");let n="";for(;!t.startsWith(e);)n+="../",e=e.substring(0,e.lastIndexOf("/",e.length-2)+1);return n+=t.substring(e.length,t.length),n.replace(/[\\\/]$/,"")}function Ke(e){return e.replace(/[！-～]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}).replace(/[^\S\r\n]/g," ")}function Xe(e){return e.replace(/[!-~]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+65248)}).replace(/[^\S\r\n]/g,"\u3000")}function Ge(e,t){if(t.length===0)return e;let n="",r=0;for(;t.length<e.length;)t+=t;for(;r<e.length;)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r)),r++;return n}function Je(e){let t=[],n=0,r=e.replace(/\\'|\\"/g,"00"),u=null,i="";for(;n<e.length;)u?r[n]===u?(t.push(i),i="",u=null):i+=e[n]:r[n]==="'"||r[n]==='"'?u=e[n]:r[n]===" "?i!==""&&(t.push(i),i=""):i+=e[n],n++;return i.trim()!==""&&t.push(i),t}function qe(e){let t=e.split("?").pop().split("&"),n={};for(let r of t){let u=r.split("=").map(decodeURIComponent);n[u[0]]?n[u[0]].push(decodeURIComponent(u[1])):n[u[0]]=[decodeURIComponent(u[1])]}return n}function et(e,t){return e.replace(/\$\{[^}]*?\}/g,function(n){let r=t,u=n.substring(2,n.length-1).split(/\.|\[['"]?|['"]?\]/).filter(Boolean),i=u.pop();for(;a(r)&&u.length>0;)r=r[u.shift()];return!a(r)&&!s(r)?"":r[i]})}function tt(e){e=e.replace(/[\\\/]+/g,"/").replace(/\/$/,"").replace(/^\.?\//,"");let t=e.split("/"),n="",r="",u=".",i="";return t.length>0&&(r=t.pop(),/\.[^\\\/.]+?$/.test(r)&&(i="."+r.split(".").pop()),n=r.replace(new RegExp(i+"$"),"")),t.length>0&&(u=t.join("/")),{dirs:t,filename:n,basename:r,dirname:u,extname:i}}var d=[["&","&amp;"],[" ","&nbsp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"],["\xA2","&cent;"],["\xA3","&pound;"],["\xA5","&yen;"],["\u20AC","&euro;"],["\xA9","&copy;"],["\xAE","&reg;"]],I=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]];function B(e){return e.replace(/\r\n/g,`
`)}function k(e){return e.replace(/^\</,"").replace(/([^\<][!?/])?\>$/,"").replace(/\s+/g," ").trim()}function z(e){return e.tag===null}function L(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n],n,e))return n;return-1}function N(e){return encodeURIComponent(e)}function j(e){return decodeURIComponent(e)}function P(e){for(let t=0;t<d.length;t++)e=e.replace(new RegExp(d[t][0],"g"),d[t][1]);return e}function V(e){for(let t=d.length-1;t>=0;t--)e=e.replace(new RegExp(d[t][1],"g"),d[t][0]);return e}function D(e){for(let t=0;t<I.length;t++)e=e.replace(new RegExp(I[t][0],"g"),I[t][1]);return e}function _(e){return e.replace(/<!--([\s\S]*?)-->/g,function(...t){return`<!-->${N(t[1])}</!-->`})}function H(e){return e.replace(/(<script(?:[\s\S]*?)>)([\s\S]*?)(<\/script>)/g,function(...t){return`${t[1]}${N(t[2])}${t[3]}`})}function Q(e){return e.replace(/(>)([\s\S]*?)(<)/g,function(...t){return`${t[1]}${P(t[2])}${t[3]}`})}function W(e){function t(...n){return`=${N(n[1])} `}return e.replace(/\='([^'>]*?)'/g,t).replace(/\="([^">]*?)"/g,t)}function Z(e){let t=k(e).split(/\s/),n={};n.tag=t[0]||"",n.closer=null,n.content=null,n.attributes={},n.children=[],n.isClosing=/^\//.test(n.tag),n.isClosed=n.isClosing,n.tag=n.tag.replace(/^\//,"");for(let r=1;r<t.length;r++){let[u,i]=t[r].split("=");u.length>0&&(typeof i=="string"?n.attributes[u]=j(i):n.attributes[u]=!0)}return n}function rt(e){e=W(Q(H(_(B(e)))));let t=0,n=/<[^>]*?>/g,r,u=[],i=[],o;for(;r=n.exec(e);){let l=e.substring(t,r.index).trim();if(l.length>0&&(o={tag:null,closer:null,content:V(l),attributes:{},children:[]},u.push(o)),o=Z(r[0]),!o.isClosing)u.push(o),i.push(o);else{let f=L(u,function(c){return!c.isClosed&&c.tag===o.tag});if(f>-1&&(u[f].isClosed=!0,u[f].children=u.splice(f+1,u.length-f+1),["script","!--"].indexOf(u[f].tag)>-1))for(let c=0;c<u[f].children.length;c++)z(u[f].children[c])&&(u[f].children[c].content=j(u[f].children[c].content))}t=n.lastIndex}for(let l of i)l.tag.toUpperCase()==="!DOCTYPE"?l.closer="":l.tag.toLowerCase()==="?xml"?l.closer="?":l.tag==="!--"?l.closer="--":l.isClosed||(l.closer=" /"),delete l.isClosed,delete l.isClosing;return{tag:null,closer:null,content:null,attributes:{},children:u}}function Y(e){let t="";for(let[n,r]of Object.entries(e))typeof r=="string"?t+=` ${n}="${D(r)}"`:r===!0&&(t+=` ${n}`);return t}function U(e){let{tag:t,closer:n,attributes:r,content:u,children:i}=e,o="";if(typeof t=="string"){if(o+=`<${t}`,typeof r=="object"&&(o+=Y(r)),typeof n!="string"&&(o+=">"),Array.isArray(i))for(let l of i)o+=U(l);typeof n=="string"?o+=`${n}>`:o+=`</${t}>`}else if(typeof u=="string")o=u;else if(Array.isArray(i))for(let l of i)o+=U(l);return o}export{T as compareObject,ge as compareString,S as copyObject,Ae as createArray,U as domToStr,Ge as encryptString,Ze as fromBase64,Fe as generateObjectId,v as generateRandomNumber,_e as generateRandomString,Ue as generateUUID,b as getBezierPoint,se as getClampedNumber,ae as getContainedNumber,Le as getContainedSize,Pe as getCoveredSize,Oe as getMaxValue,Se as getMeanValue,Ce as getMinValue,Te as getModeValue,Ie as getRandomValue,Ye as getRelativePath,le as groupByKey,s as isArray,E as isBoolean,J as isBooleanArray,re as isEmpty,ne as isEmptyArray,G as isEmptyObject,X as isEmptyString,O as isFunction,y as isNull,C as isNumber,q as isNumberArray,K as isNumeric,a as isObject,te as isObjectArray,ie as isSameType,$ as isString,ee as isStringArray,M as isUndefined,Je as parseCommand,tt as parsePath,qe as parseQueryString,et as parseTemplate,ke as promiseAll,fe as queryObject,Me as setAnimation,be as shuffleArray,we as sortArray,Ee as sortBy,Qe as splitFloat,He as splitInt,Ne as spreadArray,rt as strToDom,We as toBase64,Xe as toFullWidth,Ke as toHalfWidth,Be as wait};
