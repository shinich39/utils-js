function t(t){return"boolean"==typeof t}function e(t){return"number"==typeof t&&!Number.isNaN(t)&&Number.isFinite(t)}function n(t){return r(t)?!Number.isNaN(parseFloat(t))&&Number.isFinite(parseFloat(t)):e(t)}function r(t){return"string"==typeof t}function o(t){return r(t)&&""===t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function u(t){return"object"==typeof t&&null!==t}function i(t){return u(t)&&0===Object.keys(t).length}function l(t){return"object"==typeof t&&null===t}function f(t){return Array&&Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function c(e){if(!f(e))return!1;for(const n of e)if(!t(n))return!1;return!0}function s(t){if(!f(t))return!1;for(const n of t)if(!e(n))return!1;return!0}function h(t){if(!f(t))return!1;for(const e of t)if(!r(e))return!1;return!0}function a(t){if(!f(t))return!1;for(const e of t)if(!u(e))return!1;return!0}function g(t){return f(t)&&0===t.length}function p(t){return"function"==typeof t}function d(t){return void 0===t||l(t)}function x(t){return void 0===t}function $(t,e){return l(t)&&l(e)||typeof t==typeof e&&t.constructor===e.constructor}function y(t){let e;e=f(t)?[]:{};for(const[n,r]of Object.entries(t))u(r)?e[n]=y(r):e[n]=r;return e}function m(t,e){let n={};for(const r of t){const t=String(r[e]);n[t]?n[t].push(r):n[t]=[r]}return n}function A(t,e){function n(t,e){for(const[n,o]of Object.entries(e))if(!r(t,o,n.split(".")))return!1;return!0}function r(t,e,n){const i=n.shift();return n.length>0?!!u(t)&&r(t[i],e,n):o(t,e,i)}function o(t,e,r){if("$and"===r){for(const r of e)if(!n(t,r))return!1;return!0}if("$nand"===r)return!o(t,e,"$and");if("$or"===r){for(const r of e)if(n(t,r))return!0;return!1}if("$nor"===r)return!o(t,e,"$or");if("$not"===r)return!n(t,e);if("$in"===r){if(f(t)){for(const n of t)if(!o(n,e,"$in"))return!1;return!0}for(const n of e)if(o(t,n,"$eq"))return!0;return!1}if("$nin"===r)return!o(t,e,"$in");if("$gt"===r)return t>e;if("$gte"===r)return t>=e;if("$lt"===r)return t<e;if("$lte"===r)return t<=e;if("$eq"===r){if(f(t)&&f(e)){if(t.length!==e.length)return!1;for(let n=0;n<e.length;n++)if(!o(t[n],e[n],"$eq"))return!1;return!0}return t===e}return"$ne"===r?!o(t,e,"$eq"):"$exists"===r?null!=t===Boolean(e):"$fn"===r?e(t):"$re"===r?e.test(t):!!u(t)&&(u(e)?n(t[r],e):o(t[r],e,"$eq"))}return n(t,e)}function b(t,e){for(const n of Object.keys(e))for(let[r,o]of Object.entries(e[n])){r=r.split(".");let e=t,i=r.pop();for(;u(e)&&r.length>0;)e=e[r.shift()];if(u(e))if("$set"===n)e[i]!==o&&(e[i]=o);else if("$unset"===n)o&&delete e[i];else if("$push"===n)e[i].push(o);else if("$pushAll"===n)for(const t of o)e[i].push(t);else if("$pull"===n){for(let t=e[i].length;t>=0;t--)if(e[i][t]===o){e[i].splice(t,1);break}}else if("$pullAll"===n){const t=e[i];e[i]=[];for(const n of t)-1===o.indexOf(n)&&e[i].push(n)}else if("$addToSet"===n)-1===e[i].indexOf(o)&&e[i].push(o);else if("$addToSetAll"===n)for(const t of o)-1===e[i].indexOf(t)&&e[i].push(t)}return t}function C(t,e){return Math.random()*(e-t)+t}function w(t,e,n){return Math.min(n,Math.max(t,e))}function S(t,e,n){return n-=e,(t-=e)<0&&(t=t%n+n),t>=n&&(t%=n),t+e}function v(t,e){return function(t,e,n){let r=[],o=0,u=e.length,i=n.length;for(;u>0||i>0;){const l=r[r.length-1],f=e[u-1],c=n[i-1];u>0&&i>0&&f===c?(l&&0===l.type?l.value=f+l.value:r.push({type:0,value:f}),o++,u--,i--):i>0&&(0===u||t[u][i-1]>=t[u-1][i])?(l&&1===l.type?l.value=c+l.value:r.push({type:1,value:c}),i--):u>0&&(0===i||t[u][i-1]<t[u-1][i])&&(l&&-1===l.type?l.value=f+l.value:r.push({type:-1,value:f}),u--)}return{acc:2*o/(e.length+n.length),result:r.reverse()}}(function(t,e,n){for(let r=1;r<=e.length;r++)for(let o=1;o<=n.length;o++)e[r-1]===n[o-1]?t[r][o]=t[r-1][o-1]+1:t[r][o]=Math.max(t[r-1][o],t[r][o-1]);return t}(function(t,e){const n=[];for(let r=0;r<t.length+1;r++){n.push([]);for(let t=0;t<e.length+1;t++)n[r][t]=0}return n}(t,e),t,e),t,e)}function O(n,o){const i=[x,l,t,e,r,u,f,p],c=i.findIndex((function(t){return t(n)})),s=i.findIndex((function(t){return t(o)}));return c!==s?c-s:0===c||1===c?0:2===c?n!==o?0:n?1:-1:3===c?n-o:4===c?n.localeCompare(o,void 0,{numeric:!0}):5===c?Object.keys(n).length-Object.keys(o).length:6===c?n.length-o.length:0}function j(t,e){let n=new Array(t);if(p(e))for(let r=0;r<t;r++)n[r]=e(r);else if(u(e))for(let r=0;r<t;r++)n[r]=y(e);else if(f(e))for(let r=0;r<t;r++)n[r]=y(e);else if(void 0!==e)for(let r=0;r<t;r++)n[r]=e;return n}function M(t){return t.reduce((function(t,e){return e<t?e:t}),t[0]||0)}function F(t){return t.reduce((function(t,e){return e>t?e:t}),t[0]||0)}function I(t){return t.reduce((function(t,e){return t+e}),0)/t.length}function E(t){let e={},n=t[0],r=1;for(let o=0;o<t.length;o++){const u=t[o];e[u]?e[u]+=1:e[u]=1,e[u]>r&&(n=u,r=e[u])}return n}function R(t,e){return e=Boolean(e),t.sort((function(t,n){return e?!O(t,n):O(t,n)}))}function N(t,e){return"string"==typeof e&&(e=e.split(" ").filter(Boolean)),t.sort((function(t,n){for(const r of e){const e=/^-/.test(r),o=r.replace(/^-/,""),u=O(t[o],n[o]);if(0!==u)return e?-u:u}return 0}))}function T(t){let e=t.length;for(;e>0;){let n=Math.floor(Math.random()*e);e--,[t[e],t[n]]=[t[n],t[e]]}return t}function q(t){return t[Math.floor(C(0,t.length))]}function U(t){function e(t,e){for(let n=t.length-1;n>=0;n--){if(e[n]<t[n].length-1)return e[n]+=1,e;e[n]=0}}function n(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t[r][e[r]]);return n}return function(){let r=[],o=function(t){if(t.length<1)return;let e=[];for(let n=0;n<t.length;n++)e.push(0);return e}(t);for(;o;)r.push(n(t,o)),o=e(t,o);return r}()}function k(t,e){if(1===t.length)return t[0];let n=[];for(let r=0;r<t.length-1;r++){let o=(1-e)*t[r][0]+e*t[r+1][0],u=(1-e)*t[r][1]+e*t[r+1][1];n.push([o,u])}return k(n,e)}function B(t,e,n,r){n||(n=1e3),r||(r=100);let o=0,u=k(t,o/n);e(u,o,function i(){return o+=r,u=k(t,o/n),setTimeout((function(){e(u,o,o<n?i():null)}),r)}())}let z=0;function D(t,e){return t=t?new Date(t).getTime()/1e3:(new Date).getTime()/1e3,e?z=e:e=z++,Math.floor(t).toString(16)+"xxxxxxxxxx".replace(/x/g,(function(t){return Math.floor(16*Math.random()).toString(16)}))+Math.floor(e).toString(16).padStart(6,"0")}function P(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e,n=16*Math.random()|0;return e="x"==t?n:3&n|8,e.toString(16)}))}function Z(t){return new Promise((function(e){return setTimeout(e,t)}))}function L(t){return t.reduce((function(t,e){return t.then((function(t){return e().then((function(e){return t.concat([e])}))}))}),Promise.resolve([]))}function W(t,e){const n=t.width/t.height;return n<e.width/e.height?{width:e.height*n,height:e.height}:{width:e.width,height:e.width/n}}function Y(t,e){const n=t.width/t.height;return n<e.width/e.height?{width:e.width,height:e.width/n}:{width:e.height*n,height:e.height}}function G(t){return t.charAt(Math.floor(Math.random()*t.length))}function H(t){return t.split(/([0-9]+)/)}function J(t){return t.split(/([0-9]+\.[0-9]+)+/)}function K(t,e){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(t=String(t),/[^\0-\xFF]/.test(t))throw new Error("The string to be encoded contains characters outside of the Latin1 range.");let r,o,u,i,l=t.length%3,f="",c=-1,s=t.length-l;for(;++c<s;)r=t.charCodeAt(c)<<16,o=t.charCodeAt(++c)<<8,u=t.charCodeAt(++c),i=r+o+u,f+=n.charAt(i>>18&63)+n.charAt(i>>12&63)+n.charAt(i>>6&63)+n.charAt(63&i);return 2==l?(r=t.charCodeAt(c)<<8,o=t.charCodeAt(++c),i=r+o,f+=n.charAt(i>>10)+n.charAt(i>>4&63)+n.charAt(i<<2&63)+"="):1==l&&(i=t.charCodeAt(c),f+=n.charAt(i>>2)+n.charAt(i<<4&63)+"=="),e?"data:"+e+";base64,"+f:f}function Q(t){let e=(t=String(t).replace(/^data:([A-Za-z-+\/]+);[A-Za-z0-9]+,/,"").replace(/[\t\n\f\r ]/g,"")).length;if(e%4==0&&(e=(t=t.replace(/==?$/,"")).length),e%4==1||/[^+a-zA-Z0-9/]/.test(t))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");let n,r,o=0,u="",i=-1;for(;++i<e;)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(i)),n=o%4?64*n+r:r,o++%4&&(u+=String.fromCharCode(255&n>>(-2*o&6)));return u}function V(t,e){t=(t+"/").replace(/[\\\/]+/g,"/").replace(/^\.?\//,""),e=(e+"/").replace(/[\\\/]+/g,"/").replace(/^\.?\//,"");let n="";for(;!e.startsWith(t);)n+="../",t=t.substring(0,t.lastIndexOf("/",t.length-2)+1);return n+=e.substring(t.length,e.length),n.replace(/[\\\/]$/,"")}function X(t){return t.replace(/[！-～]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-65248)})).replace(/[^\S\r\n]/g," ")}function _(t){return t.replace(/[!-~]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+65248)})).replace(/[^\S\r\n]/g,"　")}function tt(t,e){if(0===e.length)return t;let n="",r=0;for(;e.length<t.length;)e+=e;for(;r<t.length;)n+=String.fromCharCode(t.charCodeAt(r)^e.charCodeAt(r)),r++;return n}function et(t){let e=[],n=0,r=t.replace(/\\'|\\"/g,"00"),o=null,u="";for(;n<t.length;)o?r[n]===o?(e.push(u),u="",o=null):u+=t[n]:"'"===r[n]||'"'===r[n]?o=t[n]:" "===r[n]?""!==u&&(e.push(u),u=""):u+=t[n],n++;return""!==u.trim()&&e.push(u),e}function nt(t){let e=t.split("?").pop().split("&"),n={};for(const t of e){const e=t.split("=").map(decodeURIComponent);n[e[0]]?n[e[0]].push(decodeURIComponent(e[1])):n[e[0]]=[decodeURIComponent(e[1])]}return n}function rt(t,e){return t.replace(/\$\{[^}]*?\}/g,(function(t){let n=e,r=t.substring(2,t.length-1).split(/\.|\[['"]?|['"]?\]/).filter(Boolean),o=r.pop();for(;u(n)&&r.length>0;)n=n[r.shift()];return u(n)||f(n)?n[o]:""}))}function ot(t){let e=(t=t.replace(/[\\\/]+/g,"/").replace(/\/$/,"").replace(/^\.?\//,"")).split("/"),n="",r="",o=".",u="";return e.length>0&&(r=e.pop(),/\.[^\\\/.]+?$/.test(r)&&(u="."+r.split(".").pop()),n=r.replace(new RegExp(u+"$"),"")),e.length>0&&(o=e.join("/")),{dirs:e,filename:n,basename:r,dirname:o,extname:u}}const ut=[["&","&amp;"],[" ","&nbsp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"],["¢","&cent;"],["£","&pound;"],["¥","&yen;"],["€","&euro;"],["©","&copy;"],["®","&reg;"]],it=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]];function lt(t,e){for(let n=t.length-1;n>=0;n--)if(e(t[n],n,t))return n;return-1}function ft(t){return encodeURIComponent(t)}function ct(t){return decodeURIComponent(t)}function st(t){for(let e=ut.length-1;e>=0;e--)t=t.replace(new RegExp(ut[e][1],"g"),ut[e][0]);return t}function ht(t){for(let e=0;e<it.length;e++)t=t.replace(new RegExp(it[e][0],"g"),it[e][1]);return t}function at(t){return t.replace(/(>)([\s\S]*?)(<)/g,(function(...t){return`${t[1]}${function(t){for(let e=0;e<ut.length;e++)t=t.replace(new RegExp(ut[e][0],"g"),ut[e][1]);return t}(t[2])}${t[3]}`}))}function gt(t){let e=function(t){return t.replace(/^\</,"").replace(/([^\<][!?/])?\>$/,"").replace(/\s+/g," ").trim()}(t).split(/\s/),n={};n.tag=e[0]||"",n.closer=null,n.content=null,n.attributes={},n.children=[],n.isClosing=/^\//.test(n.tag),n.isClosed=n.isClosing,n.tag=n.tag.replace(/^\//,"");for(let t=1;t<e.length;t++){let[r,o]=e[t].split("=");r.length>0&&(n.attributes[r]="string"!=typeof o||ct(o))}return n}function pt(t){t=function(t){function e(...t){return`=${ft(t[1])} `}return t.replace(/\='([^'>]*?)'/g,e).replace(/\="([^">]*?)"/g,e)}(at(function(t){return t.replace(/(<script(?:[\s\S]*?)>)([\s\S]*?)(<\/script>)/g,(function(...t){return`${t[1]}${ft(t[2])}${t[3]}`}))}(function(t){return t.replace(/<!--([\s\S]*?)-->/g,(function(...t){return`\x3c!--\x3e${ft(t[1])}</!--\x3e`}))}(function(t){return t.replace(/\r\n/g,"\n")}(t)))));let e,n,r=0,o=/<[^>]*?>/g,u=[],i=[];for(;e=o.exec(t);){let l=t.substring(r,e.index).trim();if(l.length>0&&(n={tag:null,closer:null,content:st(l),attributes:{},children:[]},u.push(n)),n=gt(e[0]),n.isClosing){let t=lt(u,(function(t){return!t.isClosed&&t.tag===n.tag}));if(t>-1&&(u[t].isClosed=!0,u[t].children=u.splice(t+1,u.length-t+1),["script","!--"].indexOf(u[t].tag)>-1))for(let e=0;e<u[t].children.length;e++)null===u[t].children[e].tag&&(u[t].children[e].content=ct(u[t].children[e].content))}else u.push(n),i.push(n);r=o.lastIndex}let l=t.substring(r).trim();l.length>0&&(n={tag:null,closer:null,content:st(l),attributes:{},children:[]},u.push(n));for(let t of i)"!DOCTYPE"===t.tag.toUpperCase()?t.closer="":"?xml"===t.tag.toLowerCase()?t.closer="?":"!--"===t.tag?t.closer="--":t.isClosed||(t.closer=" /"),delete t.isClosed,delete t.isClosing;return{tag:null,closer:null,content:null,attributes:{},children:u}}function dt(t){const{tag:e,closer:n,attributes:r,content:o,children:u}=t;let i="";if("string"==typeof e){if(i+=`<${e}`,"object"==typeof r&&(i+=function(t){let e="";for(const[n,r]of Object.entries(t))"string"==typeof r?e+=` ${n}="${ht(r)}"`:!0===r&&(e+=` ${n}`);return e}(r)),"string"!=typeof n&&(i+=">"),Array.isArray(u))for(const t of u)i+=dt(t);i+="string"==typeof n?`${n}>`:`</${e}>`}else if("string"==typeof o)i=o;else if(Array.isArray(u))for(const t of u)i+=dt(t);return i}export{O as compareObject,v as compareString,y as copyObject,j as createArray,dt as domToStr,tt as encryptString,Q as fromBase64,D as generateObjectId,C as generateRandomNumber,G as generateRandomString,P as generateUUID,k as getBezierPoint,w as getClampedNumber,S as getContainedNumber,W as getContainedSize,Y as getCoveredSize,F as getMaxValue,I as getMeanValue,M as getMinValue,E as getModeValue,q as getRandomValue,V as getRelativePath,m as groupByKey,f as isArray,t as isBoolean,c as isBooleanArray,d as isEmpty,g as isEmptyArray,i as isEmptyObject,o as isEmptyString,p as isFunction,l as isNull,e as isNumber,s as isNumberArray,n as isNumeric,u as isObject,a as isObjectArray,$ as isSameType,r as isString,h as isStringArray,x as isUndefined,et as parseCommand,ot as parsePath,nt as parseQueryString,rt as parseTemplate,L as promiseAll,A as queryObject,B as setAnimation,T as shuffleArray,R as sortArray,N as sortBy,J as splitFloat,H as splitInt,U as spreadArray,pt as strToDom,K as toBase64,_ as toFullWidth,X as toHalfWidth,b as updateObject,Z as wait};
