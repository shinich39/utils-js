"use strict";var utils=(()=>{var I=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var P=(e,t)=>{for(var n in t)I(e,n,{get:t[n],enumerable:!0})},V=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of z(t))!L.call(e,o)&&o!==n&&I(e,o,{get:()=>t[o],enumerable:!(r=k(t,o))||r.enumerable});return e};var D=e=>V(I({},"__esModule",{value:!0}),e);var Ye={};P(Ye,{compareObject:()=>S,compareString:()=>re,copyObject:()=>O,createArray:()=>ie,domToStr:()=>v,encryptString:()=>Ne,fromBase64:()=>we,generateObjectId:()=>xe,generateRandomNumber:()=>R,generateRandomString:()=>Ce,generateUUID:()=>de,getBezierPoint:()=>E,getClampedNumber:()=>te,getContainedNumber:()=>ne,getContainedSize:()=>$e,getCoveredSize:()=>Ae,getMaxValue:()=>ue,getMeanValue:()=>le,getMinValue:()=>oe,getModeValue:()=>fe,getRandomValue:()=>he,getRelativePath:()=>Ee,groupByKey:()=>q,isArray:()=>s,isBoolean:()=>w,isBooleanArray:()=>W,isEmpty:()=>G,isEmptyArray:()=>X,isEmptyObject:()=>Q,isEmptyString:()=>H,isFunction:()=>C,isNull:()=>d,isNumber:()=>A,isNumberArray:()=>Z,isNumeric:()=>_,isObject:()=>a,isObjectArray:()=>K,isSameType:()=>J,isString:()=>m,isStringArray:()=>Y,isUndefined:()=>N,parseCommand:()=>Re,parsePath:()=>Fe,parseQueryString:()=>Me,parseTemplate:()=>ve,promiseAll:()=>ye,queryObject:()=>ee,setAnimation:()=>ge,shuffleArray:()=>ae,sortArray:()=>ce,sortBy:()=>se,splitFloat:()=>Se,splitInt:()=>Oe,spreadArray:()=>pe,strToDom:()=>We,toBase64:()=>Te,toFullWidth:()=>Ie,toHalfWidth:()=>be,wait:()=>me});function w(e){return typeof e=="boolean"}function A(e){return typeof e=="number"&&!Number.isNaN(e)&&Number.isFinite(e)}function _(e){return m(e)?!Number.isNaN(parseFloat(e))&&Number.isFinite(parseFloat(e)):A(e)}function m(e){return typeof e=="string"}function H(e){return m(e)&&e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""}function a(e){return typeof e=="object"&&e!==null}function Q(e){return a(e)&&Object.keys(e).length===0}function d(e){return typeof e=="object"&&e===null}function s(e){return Array&&Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}function W(e){if(!s(e))return!1;for(let t of e)if(!w(t))return!1;return!0}function Z(e){if(!s(e))return!1;for(let t of e)if(!A(t))return!1;return!0}function Y(e){if(!s(e))return!1;for(let t of e)if(!m(t))return!1;return!0}function K(e){if(!s(e))return!1;for(let t of e)if(!a(t))return!1;return!0}function X(e){return s(e)&&e.length===0}function C(e){return typeof e=="function"}function G(e){return e===void 0||d(e)}function N(e){return e===void 0}function J(e,t){return d(e)&&d(t)||typeof e==typeof t&&e.constructor===t.constructor}function O(e){let t;s(e)?t=[]:t={};for(let[n,r]of Object.entries(e))a(r)?t[n]=O(r):t[n]=r;return t}function q(e,t){let n={};for(let r of e){let o=String(r[t]);n[o]?n[o].push(r):n[o]=[r]}return n}function ee(e,t){let n={and:["$and"],notAnd:["$notAnd","$nand"],or:["$or"],notOr:["$notOr","$nor"],not:["$not"],include:["$include","$in"],exclude:["$exclude","$nin"],greaterThan:["$greaterThan","$gt"],greaterThanOrEqual:["$greaterThanOrEqual","$gte"],lessThan:["$lessThan","$lt"],lessThanOrEqual:["$lessThanOrEqual","$lte"],equal:["$equal","$eq"],notEqual:["$notEqual","$neq","$ne"],exists:["$exists"],function:["$function","$func","$fn"],regexp:["$regexp","$regex","$re","$reg"]};function r(u,l){for(let[f,c]of Object.entries(l))if(!o(u,c,f.split(".")))return!1;return!0}function o(u,l,f){let c=f.shift();return f.length>0?a(u)?o(u[c],l,f):!1:i(u,l,c)}function i(u,l,f){if(n.and.indexOf(f)>-1){for(let c of l)if(!r(u,c))return!1;return!0}else{if(n.notAnd.indexOf(f)>-1)return!i(u,l,"$and");if(n.or.indexOf(f)>-1){for(let c of l)if(r(u,c))return!0;return!1}else{if(n.notOr.indexOf(f)>-1)return!i(u,l,"$or");if(n.not.indexOf(f)>-1)return!r(u,l);if(n.include.indexOf(f)>-1)if(s(u)){for(let c of u)if(!i(c,l,"$include"))return!1;return!0}else{for(let c of l)if(i(u,c,"$equal"))return!0;return!1}else{if(n.exclude.indexOf(f)>-1)return!i(u,l,"$include");if(n.greaterThan.indexOf(f)>-1)return u>l;if(n.greaterThanOrEqual.indexOf(f)>-1)return u>=l;if(n.lessThan.indexOf(f)>-1)return u<l;if(n.lessThanOrEqual.indexOf(f)>-1)return u<=l;if(n.equal.indexOf(f)>-1)if(s(u)&&s(l)){if(u.length!==l.length)return!1;for(let c=0;c<l.length;c++)if(!i(u[c],l[c],"$equal"))return!1;return!0}else return u===l;else return n.notEqual.indexOf(f)>-1?!i(u,l,"$equal"):n.exists.indexOf(f)>-1?u!=null==!!l:n.function.indexOf(f)>-1?l(u):n.regexp.indexOf(f)>-1?l.test(u):a(u)?a(l)?r(u[f],l):i(u[f],l,"$equal"):!1}}}}return r(e,t)}function R(e,t){return Math.random()*(t-e)+e}function te(e,t,n){return Math.min(n,Math.max(e,t))}function ne(e,t,n){return e-=t,n-=t,e<0&&(e=e%n+n),e>=n&&(e=e%n),e+t}function re(e,t){function n(i,u){let l=[];for(let f=0;f<i.length+1;f++){l.push([]);for(let c=0;c<u.length+1;c++)l[f][c]=0}return l}function r(i,u,l){for(let f=1;f<=u.length;f++)for(let c=1;c<=l.length;c++)u[f-1]===l[c-1]?i[f][c]=i[f-1][c-1]+1:i[f][c]=Math.max(i[f-1][c],i[f][c-1]);return i}function o(i,u,l){let f=0,c=1,T=-1,x=[],U=0,p=u.length,g=l.length;for(;p>0||g>0;){let h=x[x.length-1],$=u[p-1],b=l[g-1];p>0&&g>0&&$===b?(h&&h.type===f?h.value=$+h.value:x.push({type:f,value:$}),U++,p--,g--):g>0&&(p===0||i[p][g-1]>=i[p-1][g])?(h&&h.type===c?h.value=b+h.value:x.push({type:c,value:b}),g--):p>0&&(g===0||i[p][g-1]<i[p-1][g])&&(h&&h.type===T?h.value=$+h.value:x.push({type:T,value:$}),p--)}return{acc:U*2/(u.length+l.length),result:x.reverse()}}return o(r(n(e,t),e,t),e,t)}function S(e,t){let n=[N,d,w,A,m,a,s,C],r=n.findIndex(function(i){return i(e)}),o=n.findIndex(function(i){return i(t)});return r!==o?r-o:r===0||r===1?0:r===2?e!==t?0:e?1:-1:r===3?e-t:r===4?e.localeCompare(t,void 0,{numeric:!0}):r===5?Object.keys(e).length-Object.keys(t).length:r===6?e.length-t.length:0}function ie(e,t){let n=new Array(e);if(C(t))for(let r=0;r<e;r++)n[r]=t(r);else if(a(t))for(let r=0;r<e;r++)n[r]=O(t);else if(s(t))for(let r=0;r<e;r++)n[r]=O(t);else if(typeof t<"u")for(let r=0;r<e;r++)n[r]=t;return n}function oe(e){return e.reduce(function(t,n){return n<t?n:t},e[0]||0)}function ue(e){return e.reduce(function(t,n){return n>t?n:t},e[0]||0)}function le(e){return e.reduce(function(t,n){return t+n},0)/e.length}function fe(e){let t={},n=e[0],r=1;for(let o=0;o<e.length;o++){let i=e[o];t[i]?t[i]+=1:t[i]=1,t[i]>r&&(n=i,r=t[i])}return n}function ce(e,t){return t=!!t,e.sort(function(n,r){return t?!S(n,r):S(n,r)})}function se(e,t){return typeof t=="string"&&(t=t.split(" ").filter(Boolean)),e.sort(function(n,r){for(let o of t){let i=/^-/.test(o),u=o.replace(/^-/,""),l=S(n[u],r[u]);if(l!==0)return i?-l:l}return 0})}function ae(e){let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--,[e[t],e[n]]=[e[n],e[t]]}return e}function he(e){return e[Math.floor(R(0,e.length))]}function pe(e){function t(i){if(i.length<1)return;let u=[];for(let l=0;l<i.length;l++)u.push(0);return u}function n(i,u){for(let l=i.length-1;l>=0;l--){if(u[l]<i[l].length-1)return u[l]+=1,u;u[l]=0}}function r(i,u){let l=[];for(let f=0;f<i.length;f++)l.push(i[f][u[f]]);return l}function o(){let i=[],u=t(e);for(;u;)i.push(r(e,u)),u=n(e,u);return i}return o()}function E(e,t){if(e.length===1)return e[0];let n=[];for(let r=0;r<e.length-1;r++){let o=(1-t)*e[r][0]+t*e[r+1][0],i=(1-t)*e[r][1]+t*e[r+1][1];n.push([o,i])}return E(n,t)}function ge(e,t,n,r){n||(n=1e3),r||(r=100);let o=0,i=E(e,o/n,o);t(i,o,u());function u(){return o+=r,i=E(e,o/n),setTimeout(function(){o<n?t(i,o,u()):t(i,o,null)},r)}}var j=0;function xe(e,t){return e?e=new Date(e).getTime()/1e3:e=new Date().getTime()/1e3,t?j=t:t=j++,Math.floor(e).toString(16)+"xxxxxxxxxx".replace(/x/g,function(n){return Math.floor(Math.random()*16).toString(16)})+Math.floor(t).toString(16).padStart(6,"0")}function de(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0,n;return e=="x"?n=t:n=t&3|8,n.toString(16)})}function me(e){return new Promise(function(t){return setTimeout(t,e)})}function ye(e){return e.reduce(function(t,n){return t.then(function(r){return n().then(function(o){return r.concat([o])})})},Promise.resolve([]))}function $e(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.height*n,height:t.height}:{width:t.width,height:t.width/n}}function Ae(e,t){let n=e.width/e.height;return n<t.width/t.height?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}}function Ce(e){return e.charAt(Math.floor(Math.random()*e.length))}function Oe(e){return e.split(/([0-9]+)/)}function Se(e){return e.split(/([0-9]+\.[0-9]+)+/)}function Te(e,t){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(e=String(e),/[^\0-\xFF]/.test(e))throw new Error("The string to be encoded contains characters outside of the Latin1 range.");let r=e.length%3,o="",i=-1,u,l,f,c,T=e.length-r;for(;++i<T;)u=e.charCodeAt(i)<<16,l=e.charCodeAt(++i)<<8,f=e.charCodeAt(++i),c=u+l+f,o+=n.charAt(c>>18&63)+n.charAt(c>>12&63)+n.charAt(c>>6&63)+n.charAt(c&63);return r==2?(u=e.charCodeAt(i)<<8,l=e.charCodeAt(++i),c=u+l,o+=n.charAt(c>>10)+n.charAt(c>>4&63)+n.charAt(c<<2&63)+"="):r==1&&(c=e.charCodeAt(i),o+=n.charAt(c>>2)+n.charAt(c<<4&63)+"=="),t?"data:"+t+";base64,"+o:o}function we(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e=String(e).replace(/^data:([A-Za-z-+\/]+);[A-Za-z0-9]+,/,"").replace(/[\t\n\f\r ]/g,"");let n=e.length;if(n%4==0&&(e=e.replace(/==?$/,""),n=e.length),n%4==1||/[^+a-zA-Z0-9/]/.test(e))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");let r=0,o,i,u="",l=-1;for(;++l<n;)i=t.indexOf(e.charAt(l)),r%4?o=o*64+i:o=i,r++%4&&(u+=String.fromCharCode(255&o>>(-2*r&6)));return u}function Ee(e,t){e=(e+"/").replace(/[\\\/]+/g,"/").replace(/^\.?\//,""),t=(t+"/").replace(/[\\\/]+/g,"/").replace(/^\.?\//,"");let n="";for(;!t.startsWith(e);)n+="../",e=e.substring(0,e.lastIndexOf("/",e.length-2)+1);return n+=t.substring(e.length,t.length),n.replace(/[\\\/]$/,"")}function be(e){return e.replace(/[！-～]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}).replace(/[^\S\r\n]/g," ")}function Ie(e){return e.replace(/[!-~]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+65248)}).replace(/[^\S\r\n]/g,"\u3000")}function Ne(e,t){if(t.length===0)return e;let n="",r=0;for(;t.length<e.length;)t+=t;for(;r<e.length;)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r)),r++;return n}function Re(e){let t=[],n=0,r=e.replace(/\\'|\\"/g,"00"),o=null,i="";for(;n<e.length;)o?r[n]===o?(t.push(i),i="",o=null):i+=e[n]:r[n]==="'"||r[n]==='"'?o=e[n]:r[n]===" "?i!==""&&(t.push(i),i=""):i+=e[n],n++;return i.trim()!==""&&t.push(i),t}function Me(e){let t=e.split("?").pop().split("&"),n={};for(let r of t){let o=r.split("=").map(decodeURIComponent);n[o[0]]?n[o[0]].push(decodeURIComponent(o[1])):n[o[0]]=[decodeURIComponent(o[1])]}return n}function ve(e,t){return e.replace(/\$\{[^}]*?\}/g,function(n){let r=t,o=n.substring(2,n.length-1).split(/\.|\[['"]?|['"]?\]/).filter(Boolean),i=o.pop();for(;a(r)&&o.length>0;)r=r[o.shift()];return!a(r)&&!s(r)?"":r[i]})}function Fe(e){e=e.replace(/[\\\/]+/g,"/").replace(/\/$/,"").replace(/^\.?\//,"");let t=e.split("/"),n="",r="",o=".",i="";return t.length>0&&(r=t.pop(),/\.[^\\\/.]+?$/.test(r)&&(i="."+r.split(".").pop()),n=r.replace(new RegExp(i+"$"),"")),t.length>0&&(o=t.join("/")),{dirs:t,filename:n,basename:r,dirname:o,extname:i}}var y=[["&","&amp;"],[" ","&nbsp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"],["\xA2","&cent;"],["\xA3","&pound;"],["\xA5","&yen;"],["\u20AC","&euro;"],["\xA9","&copy;"],["\xAE","&reg;"]],M=[["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&apos;"]];function Ue(e){return e.replace(/\r\n/g,`
`)}function je(e){return e.replace(/^\</,"").replace(/([^\<][!?/])?\>$/,"").replace(/\s+/g," ").trim()}function Be(e){return e.tag===null}function ke(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n],n,e))return n;return-1}function F(e){return encodeURIComponent(e)}function B(e){return decodeURIComponent(e)}function ze(e){for(let t=0;t<y.length;t++)e=e.replace(new RegExp(y[t][0],"g"),y[t][1]);return e}function Le(e){for(let t=y.length-1;t>=0;t--)e=e.replace(new RegExp(y[t][1],"g"),y[t][0]);return e}function Pe(e){for(let t=0;t<M.length;t++)e=e.replace(new RegExp(M[t][0],"g"),M[t][1]);return e}function Ve(e){return e.replace(/<!--([\s\S]*?)-->/g,function(...t){return`<!-->${F(t[1])}</!-->`})}function De(e){return e.replace(/(<script(?:[\s\S]*?)>)([\s\S]*?)(<\/script>)/g,function(...t){return`${t[1]}${F(t[2])}${t[3]}`})}function _e(e){return e.replace(/(>)([\s\S]*?)(<)/g,function(...t){return`${t[1]}${ze(t[2])}${t[3]}`})}function He(e){function t(...n){return`=${F(n[1])} `}return e.replace(/\='([^'>]*?)'/g,t).replace(/\="([^">]*?)"/g,t)}function Qe(e){let t=je(e).split(/\s/),n={};n.tag=t[0]||"",n.closer=null,n.content=null,n.attributes={},n.children=[],n.isClosing=/^\//.test(n.tag),n.isClosed=n.isClosing,n.tag=n.tag.replace(/^\//,"");for(let r=1;r<t.length;r++){let[o,i]=t[r].split("=");o.length>0&&(typeof i=="string"?n.attributes[o]=B(i):n.attributes[o]=!0)}return n}function We(e){e=He(_e(De(Ve(Ue(e)))));let t=0,n=/<[^>]*?>/g,r,o=[],i=[],u;for(;r=n.exec(e);){let l=e.substring(t,r.index).trim();if(l.length>0&&(u={tag:null,closer:null,content:Le(l),attributes:{},children:[]},o.push(u)),u=Qe(r[0]),!u.isClosing)o.push(u),i.push(u);else{let f=ke(o,function(c){return!c.isClosed&&c.tag===u.tag});if(f>-1&&(o[f].isClosed=!0,o[f].children=o.splice(f+1,o.length-f+1),["script","!--"].indexOf(o[f].tag)>-1))for(let c=0;c<o[f].children.length;c++)Be(o[f].children[c])&&(o[f].children[c].content=B(o[f].children[c].content))}t=n.lastIndex}for(let l of i)l.tag.toUpperCase()==="!DOCTYPE"?l.closer="":l.tag.toLowerCase()==="?xml"?l.closer="?":l.tag==="!--"?l.closer="--":l.isClosed||(l.closer=" /"),delete l.isClosed,delete l.isClosing;return{tag:null,closer:null,content:null,attributes:{},children:o}}function Ze(e){let t="";for(let[n,r]of Object.entries(e))typeof r=="string"?t+=` ${n}="${Pe(r)}"`:r===!0&&(t+=` ${n}`);return t}function v(e){let{tag:t,closer:n,attributes:r,content:o,children:i}=e,u="";if(typeof t=="string"){if(u+=`<${t}`,typeof r=="object"&&(u+=Ze(r)),typeof n!="string"&&(u+=">"),Array.isArray(i))for(let l of i)u+=v(l);typeof n=="string"?u+=`${n}>`:u+=`</${t}>`}else if(typeof o=="string")u=o;else if(Array.isArray(i))for(let l of i)u+=v(l);return u}return D(Ye);})();
